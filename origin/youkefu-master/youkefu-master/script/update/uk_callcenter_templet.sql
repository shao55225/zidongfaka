INSERT INTO `uk_templet` (`ID`, `NAME`, `DESCRIPTION`, `CODE`, `GROUPID`, `CREATETIME`, `USERID`, `TEMPLETTEXT`, `TEMPLETTYPE`, `ORGI`, `ICONSTR`, `MEMO`, `ORDERINDEX`, `TYPEID`, `SELDATA`, `layoutcols`, `datatype`, `charttype`) VALUES ('297e63f05d1de125015d1df495710002', 'IVR模板', NULL, NULL, NULL, '2017-7-7 23:59:08', NULL, '<document type=\"freeswitch/xml\">\r\n  <section name=\"configuration\">\r\n    <configuration name=\"ivr.conf\" description=\"IVR menus\">\r\n		<menus>\r\n			  <!-- demo IVR setup -->\r\n			  <!-- demo IVR, Main Menu -->\r\n			  <menu name=\"demo_ivr\"\r\n			      greet-long=\"ivr-welcome.wav\"\r\n			      greet-short=\"ivr-welcome_to.wav\"\r\n			      invalid-sound=\"ivr-that_was_an_invalid_entry.wav\"\r\n			      exit-sound=\"vm-goodbye.wav\"\r\n			      confirm-macro=\"\"\r\n			      confirm-key=\"\"\r\n			      tts-engine=\"flite\"\r\n			      tts-voice=\"rms\"\r\n			      confirm-attempts=\"3\"\r\n			      timeout=\"10000\"\r\n			      inter-digit-timeout=\"2000\"\r\n			      max-failures=\"3\"\r\n			      max-timeouts=\"3\"\r\n			      digit-len=\"4\">\r\n			\r\n			    <!-- The following are the definitions for the digits the user dials -->\r\n			    <!-- Digit 1 transfer caller to the public FreeSWITCH conference -->\r\n			    <entry action=\"menu-exec-app\" digits=\"1\" param=\"bridge sofia/${r\'$${domain}\'}/888@conference.freeswitch.org\"/>\r\n			    <entry action=\"menu-exec-app\" digits=\"2\" param=\"transfer 9196 XML public\"/>    <!-- FS echo -->\r\n			    <entry action=\"menu-exec-app\" digits=\"3\" param=\"transfer 3000 XML public\"/>    <!-- MOH -->\r\n			    <entry action=\"menu-exec-app\" digits=\"4\" param=\"transfer 9191 XML public\"/>    <!-- ClueCon -->\r\n			    <entry action=\"menu-exec-app\" digits=\"5\" param=\"transfer 1234*256 enum\"/>       <!-- Screaming monkeys -->\r\n			    <entry action=\"menu-sub\" digits=\"6\" param=\"demo_ivr_submenu\"/>                  <!-- demo sub menu -->\r\n			    <!-- Using a regex in the digits tag lets you define a dial pattern for the caller\r\n			         You may define multiple regexes if you need a different pattern for some reason -->\r\n			    <entry action=\"menu-exec-app\" digits=\"/^(10[01][0-9])$/\" param=\"transfer $1 XML features\"/> \r\n			    <entry action=\"menu-top\" digits=\"9\"/>          <!-- Repeat this menu -->\r\n			  </menu>\r\n			\r\n			  <!-- Demo IVR, Sub Menu -->\r\n			  <menu name=\"demo_ivr_submenu\"\r\n			      greet-long=\"phrase:demo_ivr_sub_menu\"\r\n			      greet-short=\"phrase:demo_ivr_sub_menu_short\"\r\n			      invalid-sound=\"ivr/ivr-that_was_an_invalid_entry.wav\"\r\n			      exit-sound=\"voicemail/vm-goodbye.wav\"\r\n			      timeout=\"15000\"\r\n			      max-failures=\"3\"\r\n			      max-timeouts=\"3\">\r\n			\r\n			    <!-- The demo IVR sub menu prompt basically just says, \"press star to return to previous menu...\" -->\r\n			    <entry action=\"menu-top\" digits=\"*\"/>\r\n			   </menu>\r\n			\r\n			\r\n			<!-- TTS sample; non-functional but it demonstrates say: and TTS -->\r\n			<!--\r\n			  <menu name=\"demo3\"\r\n			      greet-long=\"say:Press 1 to join the conference, Press 2 to join the other conference\"\r\n			      greet-short=\"say:Press 1 to join the conference, Press 2 to join the other conference\"\r\n			      invalid-sound=\"say:invalid extension\"\r\n			      exit-sound=\"say:exit sound\"\r\n			      timeout =\"15000\"\r\n			      max-failures=\"3\">\r\n			    <entry action=\"menu-exit\" digits=\"*\"/>\r\n			    <entry action=\"menu-play-sound\" digits=\"1\" param=\"say:You pressed 1\"/>\r\n			    <entry action=\"menu-exec-app\" digits=\"2\" param=\"transfert 1000 XML public\"/>\r\n			    <entry action=\"menu-exec-app\" digits=\"3\" param=\"transfert 1001 XML public\"/>\r\n			  </menu>\r\n			-->\r\n		</menus>\r\n	</configuration>\r\n	    \r\n  </section>\r\n</document>\r\n', '297e63f05d1da6be015d1daee82c0003', 'ukewo', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL);
INSERT INTO `uk_templet` (`ID`, `NAME`, `DESCRIPTION`, `CODE`, `GROUPID`, `CREATETIME`, `USERID`, `TEMPLETTEXT`, `TEMPLETTYPE`, `ORGI`, `ICONSTR`, `MEMO`, `ORDERINDEX`, `TYPEID`, `SELDATA`, `layoutcols`, `datatype`, `charttype`) VALUES ('297e63f05d1de125015d1df495780003', 'SIP模板', NULL, NULL, NULL, '2017-7-8 00:00:25', NULL, '<profile name=\"external\">\r\n  <!-- http://wiki.freeswitch.org/wiki/Sofia_Configuration_Files -->\r\n  <!-- This profile is only for outbound registrations to providers -->\r\n  <gateways>\r\n  	<#if sipTrunkList??>\r\n  	<#list sipTrunkList as sipTrunk>\r\n  	<gateway name=\"${sipTrunk.name!\'\'}\">\r\n        ${(sipTrunk.sipcontent!\'\')?no_esc}\r\n	</gateway>\r\n  	</#list>\r\n  	</#if>\r\n  </gateways>\r\n\r\n  <aliases>\r\n    <!--\r\n        <alias name=\"outbound\"/>\r\n        <alias name=\"nat\"/>\r\n    -->\r\n  </aliases>\r\n\r\n  <domains>\r\n    <domain name=\"all\" alias=\"false\" parse=\"true\"/>\r\n  </domains>\r\n\r\n  <settings>\r\n    <param name=\"debug\" value=\"0\"/>\r\n    <!-- If you want FreeSWITCH to shutdown if this profile fails to load, uncomment the next line. -->\r\n    <!-- <param name=\"shutdown-on-fail\" value=\"true\"/> -->\r\n    <param name=\"sip-trace\" value=\"no\"/>\r\n    <param name=\"sip-capture\" value=\"no\"/>\r\n    <param name=\"rfc2833-pt\" value=\"101\"/>\r\n    <!-- RFC 5626 : Send reg-id and sip.instance -->\r\n    <!--<param name=\"enable-rfc-5626\" value=\"true\"/> -->\r\n    <param name=\"sip-port\" value=\"${r\'$${external_sip_port}\'}\"/>\r\n    <param name=\"dialplan\" value=\"XML\"/>\r\n    <param name=\"context\" value=\"public\"/>\r\n    <param name=\"dtmf-duration\" value=\"2000\"/>\r\n    <param name=\"inbound-codec-prefs\" value=\"${r\'$${global_codec_prefs}\'}\"/>\r\n    <param name=\"outbound-codec-prefs\" value=\"$${outbound_codec_prefs}\"/>\r\n    <param name=\"hold-music\" value=\"${r\'$${hold_music}\'}\"/>\r\n    <param name=\"rtp-timer-name\" value=\"soft\"/>\r\n    <!--<param name=\"enable-100rel\" value=\"true\"/>-->\r\n    <!--<param name=\"disable-srv503\" value=\"true\"/>-->\r\n    <!-- This could be set to \"passive\" -->\r\n    <param name=\"local-network-acl\" value=\"localnet.auto\"/>\r\n    <param name=\"manage-presence\" value=\"false\"/>\r\n\r\n    <!-- used to share presence info across sofia profiles\r\n         manage-presence needs to be set to passive on this profile\r\n         if you want it to behave as if it were the internal profile\r\n         for presence.\r\n    -->\r\n    <!-- Name of the db to use for this profile -->\r\n    <!--<param name=\"dbname\" value=\"share_presence\"/>-->\r\n    <!--<param name=\"presence-hosts\" value=\"$${domain}\"/>-->\r\n    <!--<param name=\"force-register-domain\" value=\"$${domain}\"/>-->\r\n    <!--all inbound reg will stored in the db using this domain -->\r\n    <!--<param name=\"force-register-db-domain\" value=\"$${domain}\"/>-->\r\n    <!-- ************************************************* -->\r\n\r\n    <!--<param name=\"aggressive-nat-detection\" value=\"true\"/>-->\r\n    <param name=\"inbound-codec-negotiation\" value=\"generous\"/>\r\n    <param name=\"nonce-ttl\" value=\"60\"/>\r\n    <param name=\"auth-calls\" value=\"false\"/>\r\n    <param name=\"inbound-late-negotiation\" value=\"true\"/>\r\n    <param name=\"inbound-zrtp-passthru\" value=\"true\"/> <!-- (also enables late negotiation) -->\r\n    <!--\r\n        DO NOT USE HOSTNAMES, ONLY IP ADDRESSES IN THESE SETTINGS!\r\n    -->\r\n    <param name=\"rtp-ip\" value=\"${r\'$${local_ip_v4}\'}\"/>\r\n    <param name=\"sip-ip\" value=\"${r\'$${local_ip_v4}\'}\"/>\r\n    <param name=\"ext-rtp-ip\" value=\"auto-nat\"/>\r\n    <param name=\"ext-sip-ip\" value=\"auto-nat\"/>\r\n    <param name=\"rtp-timeout-sec\" value=\"300\"/>\r\n    <param name=\"rtp-hold-timeout-sec\" value=\"1800\"/>\r\n    <!--<param name=\"enable-3pcc\" value=\"true\"/>-->\r\n\r\n    <!-- TLS: disabled by default, set to \"true\" to enable -->\r\n    <param name=\"tls\" value=\"${r\'$${external_ssl_enable}\'}\"/>\r\n    <!-- Set to true to not bind on the normal sip-port but only on the TLS port -->\r\n    <param name=\"tls-only\" value=\"false\"/>\r\n    <!-- additional bind parameters for TLS -->\r\n    <param name=\"tls-bind-params\" value=\"transport=tls\"/>\r\n    <!-- Port to listen on for TLS requests. (5081 will be used if unspecified) -->\r\n    <param name=\"tls-sip-port\" value=\"${r\'$${external_tls_port}\'}\"/>\r\n    <!-- Location of the agent.pem and cafile.pem ssl certificates (needed for TLS server) -->\r\n    <!--<param name=\"tls-cert-dir\" value=\"\"/>-->\r\n    <!-- Optionally set the passphrase password used by openSSL to encrypt/decrypt TLS private key files -->\r\n    <param name=\"tls-passphrase\" value=\"\"/>\r\n    <!-- Verify the date on TLS certificates -->\r\n    <param name=\"tls-verify-date\" value=\"true\"/>\r\n    <!-- TLS verify policy, when registering/inviting gateways with other servers (outbound) or handling inbound registration/invite requests how should we verify their certificate -->\r\n    <!-- set to \'in\' to only verify incoming connections, \'out\' to only verify outgoing connections, \'all\' to verify all connections, also \'subjects_in\', \'subjects_out\' and \'subjects_all\' for subject validation. Multiple policies can be split with a \'|\' pipe -->\r\n    <param name=\"tls-verify-policy\" value=\"none\"/>\r\n    <!-- Certificate max verify depth to use for validating peer TLS certificates when the verify policy is not none -->\r\n    <param name=\"tls-verify-depth\" value=\"2\"/>\r\n    <!-- If the tls-verify-policy is set to subjects_all or subjects_in this sets which subjects are allowed, multiple subjects can be split with a \'|\' pipe -->\r\n    <param name=\"tls-verify-in-subjects\" value=\"\"/>\r\n    <!-- TLS version (\"sslv23\" (default), \"tlsv1\"). NOTE: Phones may not work with TLSv1 -->\r\n    <param name=\"tls-version\" value=\"${r\'$${sip_tls_version}\'}\"/>\r\n  </settings>\r\n</profile>\r\n', '297e63f05d1da6be015d1daee82c0003', 'ukewo', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL);
INSERT INTO `uk_templet` (`ID`, `NAME`, `DESCRIPTION`, `CODE`, `GROUPID`, `CREATETIME`, `USERID`, `TEMPLETTEXT`, `TEMPLETTYPE`, `ORGI`, `ICONSTR`, `MEMO`, `ORDERINDEX`, `TYPEID`, `SELDATA`, `layoutcols`, `datatype`, `charttype`) VALUES ('297e63f05d1fac44015d1facc9a10001', 'ACL模板', NULL, NULL, NULL, '2017-7-8 08:50:03', NULL, '<document type=\"freeswitch/xml\">\r\n  <section name=\"configuration\">\r\n    <configuration name=\"acl.conf\" description=\"Network Lists\">\r\n	  <network-lists>\r\n	    <!-- \r\n		 These ACL\'s are automatically created on startup.\r\n	\r\n		 rfc1918.auto  - RFC1918 Space\r\n		 nat.auto      - RFC1918 Excluding your local lan.\r\n		 localnet.auto - ACL for your local lan.\r\n		 loopback.auto - ACL for your local lan.\r\n	    -->\r\n		<#if aclList??>\r\n		<#list aclList as acl>\r\n	    <list name=\"${acl.name!\'\'}\" default=\"${acl.defaultvalue!\'allow\'}\">\r\n	    	${(acl.strategy!\'\')?no_esc}\r\n	    </list>\r\n	    </#list>\r\n	    </#if>\r\n	\r\n		<list name=\"ukefu_acl\" default=\"allow\">\r\n		  <node type=\"allow\" cidr=\"0.0.0.0/8\" />\r\n		  <node type=\"allow\" cidr=\"112.74.54.80/32\" />\r\n	    </list>\r\n	\r\n	    <!--\r\n		This will traverse the directory adding all users \r\n		with the cidr= tag to this ACL, when this ACL matches\r\n		the users variables and params apply as if they \r\n		digest authenticated.\r\n	    -->\r\n	    <list name=\"domains\" default=\"allow\">\r\n	      <!-- domain= is special it scans the domain from the directory to build the ACL -->\r\n	      <node type=\"allow\" cidr=\"0.0.0.0/8\" />\r\n	      <node type=\"allow\" cidr=\"112.74.54.80/32\" />\r\n	      <!-- use cidr= if you wish to allow ip ranges to this domains acl. -->\r\n	      <!-- <node type=\"allow\" cidr=\"192.168.0.0/24\"/> -->\r\n	    </list>\r\n	\r\n	  </network-lists>\r\n	</configuration>\r\n	\r\n \r\n  </section>\r\n</document>\r\n', '297e63f05d1da6be015d1daee82c0003', 'ukewo', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL);
INSERT INTO `uk_templet` (`ID`, `NAME`, `DESCRIPTION`, `CODE`, `GROUPID`, `CREATETIME`, `USERID`, `TEMPLETTEXT`, `TEMPLETTYPE`, `ORGI`, `ICONSTR`, `MEMO`, `ORDERINDEX`, `TYPEID`, `SELDATA`, `layoutcols`, `datatype`, `charttype`) VALUES ('297e63f05d1fac44015d1fad1b9f0002', 'CallCenter模板', NULL, NULL, NULL, '2017-7-8 08:50:24', NULL, '<document type=\"freeswitch/xml\">\r\n  <section name=\"configuration\">\r\n    <!--The content of the tag SECTION is identical to what you find in the public config files.-->\r\n    <configuration name=\"callcenter.conf\" description=\"CallCenter\">\r\n	  <settings>\r\n	    <!--<param name=\"odbc-dsn\" value=\"dsn:user:pass\"/>-->\r\n	    <!--<param name=\"dbname\" value=\"/dev/shm/callcenter.db\"/>-->\r\n	  </settings>\r\n	\r\n	  <queues>\r\n	    <#if skillList??>\r\n	    <#list skillList as skill>\r\n		<queue name=\"${skill.skill!\'\'}\">\r\n	      <param name=\"strategy\" value=\"longest-idle-agent\"/>\r\n	      <param name=\"moh-sound\" value=\"ivr-welcome.wav\"/>\r\n	      <param name=\"record-template\" value=\"${r\'$${recordings_dir}\'}/callcenter/${r\'${strftime(%Y-%m-%d)}\'}/${r\'${strftime(%Y-%m-%d %H-%M-%S)}\'}.${r\'${destination_number}\'}.${r\'${caller_id_number}\'}.${r\'${uuid}\'}.wav\"/>\r\n	      <param name=\"time-base-score\" value=\"system\"/>\r\n	      <param name=\"max-wait-time\" value=\"0\"/>\r\n	      <param name=\"max-wait-time-with-no-agent\" value=\"0\"/>\r\n	      <param name=\"max-wait-time-with-no-agent-time-reached\" value=\"5\"/>\r\n	      <param name=\"tier-rules-apply\" value=\"false\"/>\r\n	      <param name=\"tier-rule-wait-second\" value=\"300\"/>\r\n	      <param name=\"tier-rule-wait-multiply-level\" value=\"true\"/>\r\n	      <param name=\"tier-rule-no-agent-no-wait\" value=\"false\"/>\r\n	      <param name=\"discard-abandoned-after\" value=\"60\"/>\r\n	      <param name=\"abandoned-resume-allowed\" value=\"false\"/>\r\n	    </queue>\r\n	  	</#list>\r\n	  	</#if>\r\n	\r\n	  </queues>\r\n	\r\n	<!-- WARNING: Configuration of XML Agents will be updated into the DB upon restart. -->\r\n	<!-- WARNING: Configuration of XML Tiers will reset the level and position if those were supplied. -->\r\n	<!-- WARNING: Agents and Tiers XML config shouldn\'t be used in a multi FS shared DB setup (Not currently supported anyway) -->\r\n	  <agents>\r\n	  	<#if skillExtentionList??>\r\n	  	<#list skillExtentionList as skillExtention>\r\n	  	<#if skillExtention.extention?? && skillExtention.extention!=\"\">\r\n	  	<agent name=\"${skillExtention.extention}\" type=\"callback\" contact=\"[call_timeout=10]user/${skillExtention.extention}\" status=\"Logged Out\" max-no-answer=\"3\" wrap-up-time=\"10\" reject-delay-time=\"10\" busy-delay-time=\"60\" />\r\n	  	</#if>\r\n	  	</#list>\r\n	  	</#if>\r\n	  </agents>\r\n	  <tiers>\r\n	    <!-- If no level or position is provided, they will public to 1.  You should do this to keep db value on restart. -->\r\n	    <#if skillExtentionList??>\r\n	  	<#list skillExtentionList as skillExtention>\r\n	  	<#if skillList??>\r\n		<#list skillList as skill>\r\n		<#if skill.id == skillExtention.skillid>	  	\r\n	  	<tier agent=\"${skillExtention.extention}\" queue=\"${skill.skill!\'\'}\" level=\"1\" position=\"1\"/>\r\n	  	</#if>\r\n	  	</#list>\r\n	  	</#if>\r\n	  	</#list>\r\n	  	</#if>\r\n	  </tiers>\r\n	\r\n	</configuration> \r\n  </section>\r\n</document>\r\n', '297e63f05d1da6be015d1daee82c0003', 'ukewo', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL);
INSERT INTO `uk_templet` (`ID`, `NAME`, `DESCRIPTION`, `CODE`, `GROUPID`, `CREATETIME`, `USERID`, `TEMPLETTEXT`, `TEMPLETTYPE`, `ORGI`, `ICONSTR`, `MEMO`, `ORDERINDEX`, `TYPEID`, `SELDATA`, `layoutcols`, `datatype`, `charttype`) VALUES ('297e63f05d1fac44015d1fadd35f0004', '分机资源', NULL, NULL, NULL, '2017-7-8 08:51:11', NULL, '<document type=\"freeswitch/xml\">\r\n  <section name=\"directory\">\r\n    <domain name=\"${r\'$${domain}\'}\">\r\n      <params>\r\n        <param name=\"dial-string\" value=\"${r\'{^^:sip_invite_domain=${dialed_domain}:presence_id=${dialed_user}@${dialed_domain}}${sofia_contact(*/${dialed_user}@${dialed_domain})},${verto_contact(${dialed_user}@${dialed_domain})}\'}\"/>\r\n        <param name=\"jsonrpc-allowed-methods\" value=\"verto\"/>\r\n      </params>\r\n      <variables>\r\n	      <variable name=\"record_stereo\" value=\"true\"/>\r\n	      <variable name=\"default_gateway\" value=\"${r\'$${default_provider}\'}\"/>\r\n	      <variable name=\"default_areacode\" value=\"${r\'$${default_areacode}\'}\"/>\r\n	      <variable name=\"transfer_fallback_extension\" value=\"operator\"/>\r\n	  </variables>\r\n      <groups>\r\n      	<group name=\"default\">\r\n			<users>\r\n				<#if extentionList??>\r\n				<#list extentionList as extention>\r\n			  	<user id=\"${extention.extention!\'\'}\">\r\n				    <params>\r\n				      <param name=\"password\" value=\"${extention.password!\'\'}\"/>\r\n				      <param name=\"vm-password\" value=\"${extention.extention!\'\'}\"/>\r\n				    </params>\r\n				    <variables>\r\n				      <variable name=\"sip-force-contact\" value=\"NDLB-connectile-dysfunction\"/>\r\n				      <variable name=\"toll_allow\" value=\"domestic,international,local\"/>\r\n				      <variable name=\"accountcode\" value=\"${extention.extention!\'\'}\"/>\r\n				      <variable name=\"user_context\" value=\"default\"/>\r\n				      <variable name=\"effective_caller_id_name\" value=\"Extension ${extention.extention!\'\'}\"/>\r\n				      <variable name=\"effective_caller_id_number\" value=\"${extention.extention!\'\'}\"/>\r\n				      <variable name=\"outbound_caller_id_name\" value=\"${r\'$${outbound_caller_name}\'}\"/>\r\n				      <variable name=\"outbound_caller_id_number\" value=\"${r\'$${outbound_caller_id}\'}\"/>\r\n				      <variable name=\"callgroup\" value=\"techsupport\"/>\r\n				    </variables>\r\n				</user>\r\n				</#list>\r\n				</#if>\r\n			</users>\r\n	    </group>\r\n        <group name=\"sales\">\r\n         <users>\r\n         	<#if extentionList??>\r\n			<#list extentionList as extention>\r\n          	<user id=\"${extention.extention!\'\'}\" type=\"pointer\"/>\r\n          	</#list>\r\n			</#if>\r\n         </users>\r\n        </group>\r\n      </groups>\r\n    </domain>\r\n  </section>\r\n</document>', '297e63f05d1da6be015d1daee82c0003', 'ukewo', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL);
INSERT INTO `uk_templet` (`ID`, `NAME`, `DESCRIPTION`, `CODE`, `GROUPID`, `CREATETIME`, `USERID`, `TEMPLETTEXT`, `TEMPLETTYPE`, `ORGI`, `ICONSTR`, `MEMO`, `ORDERINDEX`, `TYPEID`, `SELDATA`, `layoutcols`, `datatype`, `charttype`) VALUES ('297e63f05d1fac44015d1fae11810005', '拨号计划模板', NULL, NULL, NULL, '2017-7-8 08:51:27', NULL, '<document type=\"freeswitch/xml\">\r\n  <section name=\"dialplan\" description=\"RE Dial Plan For FreeSwitch\">\r\n	<context name=\"default\">\r\n		<extension name=\"unloop\">\r\n	      <condition field=\"${unroll_loops}\" expression=\"^true$\"/>\r\n	      <condition field=\"${sip_looped_call}\" expression=\"^true$\">\r\n			<action application=\"deflect\" data=\"${destination_number}\"/>\r\n	      </condition>\r\n	    </extension>\r\n	    \r\n	    <#if routerList??>\r\n	    <#list routerList as router>\r\n	    <extension name=\"${router.name!\'\'}\">\r\n	      <condition field=\"${router.field!\'\'}\" expression=\"${router.regex!\'\'}\" break=\"${router.falsebreak!\'never\'}\">\r\n			${(router.routercontent!\'\')?no_esc}\r\n	      </condition>\r\n	    </extension>\r\n	    </#list>\r\n	    </#if>\r\n	    \r\n	    <!-- a sample IVR  -->\r\n	    <extension name=\"ivr_demo\">\r\n	      <condition field=\"destination_number\" expression=\"5050\">\r\n			<action application=\"set\" data=\"language=zh\"/>\r\n	        <action application=\"answer\"/>\r\n	        <action application=\"sleep\" data=\"2000\"/>\r\n			<action application=\"set\" data=\"sound_prefix=${r\'$${sounds_dir}\'}/en/us/callie/zh\"/>\r\n			<action application=\"ivr\" data=\"demo_ivr\"/>\r\n	      </condition>\r\n	    </extension>\r\n	\r\n		<extension name=\"callcenter\">\r\n			<condition field=\"destination_number\" expression=\"3000\">			\r\n			  <action application=\"limit\" data=\"hash inbound ${r\'${destination_number}\'} 3/1 !NORMAL_CIRCUIT_CONGESTION\"/>\r\n			  <!-- play a message before entering the queue. -->\r\n			  <action application=\"playback\" data=\"ivr-welcome.wav\"/>\r\n			  <!-- hangup after successful bridge to agent -->\r\n			  <action application=\"set\" data=\"hangup_after_bridge=true\"/>\r\n			  <!-- queue caller -->\r\n			  <action application=\"answer\"/>\r\n			  <action application=\"callcenter\" data=\"ukefu\"/>\r\n			  <!-- if no agent was reached and using max-wait-time - send to general voicemail -->\r\n			  <action application=\"playback\" data=\"ivr-welcome.wav\"/>\r\n			  \r\n			  <action application=\"set\" data=\"skip_greeting=true\"/>\r\n			  <action application=\"set\" data=\"skip_instructions=true\"/>\r\n			  <action application=\"voicemail\" data=\"default voicemail 2001\"/>\r\n			  <action application=\"hangup\"/>\r\n			</condition>\r\n	    </extension>\r\n	    \r\n		<extension name=\"Local_Extension\">\r\n	      <condition field=\"destination_number\" expression=\"^(10[0-9][0-9])$\">\r\n			<action application=\"export\" data=\"dialed_extension=$1\"/>\r\n			<!-- bind_meta_app can have these args <key> [a|b|ab] [a|b|o|s] <app> -->\r\n			<action application=\"bind_meta_app\" data=\"1 b s execute_extension::dx XML features\"/>\r\n			<action application=\"bind_meta_app\" data=\"2 b s record_session::${r\'$${recordings_dir}/${caller_id_number}.${strftime(%Y-%m-%d-%H-%M-%S)}\'}.wav\"/>\r\n			<action application=\"bind_meta_app\" data=\"3 b s execute_extension::cf XML features\"/>\r\n			<action application=\"bind_meta_app\" data=\"4 b s execute_extension::att_xfer XML features\"/>\r\n			<action application=\"set\" data=\"ringback=${r\'${us-ring}\'}\"/>\r\n			<action application=\"set\" data=\"transfer_ringback=${r\'$${hold_music}\'}\"/>\r\n			<action application=\"set\" data=\"call_timeout=30\"/>\r\n			<!-- <action application=\"set\" data=\"sip_exclude_contact=${r\'${network_addr}\'}\"/> -->\r\n			<action application=\"set\" data=\"hangup_after_bridge=true\"/>\r\n			<!--<action application=\"set\" data=\"continue_on_fail=NORMAL_TEMPORARY_FAILURE,USER_BUSY,NO_ANSWER,TIMEOUT,NO_ROUTE_DESTINATION\"/> -->\r\n			<action application=\"set\" data=\"continue_on_fail=true\"/>\r\n			<action application=\"hash\" data=\"insert/${r\'${domain_name}-call_return/${dialed_extension}/${caller_id_number}\'}\"/>\r\n			<action application=\"hash\" data=\"insert/${r\'${domain_name}-last_dial_ext/${dialed_extension}/${uuid}\'}\"/>\r\n			<action application=\"set\" data=\"called_party_callgroup=${r\'${user_data(${dialed_extension}@${domain_name} var callgroup)}\'}\"/>\r\n			<action application=\"hash\" data=\"insert/${r\'${domain_name}-last_dial_ext/${called_party_callgroup}/${uuid}\'}\"/>\r\n			<action application=\"hash\" data=\"insert/${r\'${domain_name}-last_dial_ext/global/${uuid}\'}\"/>\r\n			<!--<action application=\"export\" data=\"nolocal:rtp_secure_media=${r\'${user_data(${dialed_extension}@${domain_name} var rtp_secure_media)}\'}\"/>-->\r\n			<action application=\"hash\" data=\"insert/${r\'${domain_name}-last_dial/${called_party_callgroup}/${uuid}\'}\"/>\r\n			<action application=\"bridge\" data=\"user/${r\'${dialed_extension}@${domain_name}\'}\"/>\r\n			<action application=\"answer\"/>\r\n			<action application=\"sleep\" data=\"1000\"/>\r\n			<action application=\"bridge\" data=\"loopback/app=voicemail:default ${r\'${domain_name} ${dialed_extension}\'}\"/>\r\n	      </condition>\r\n	    </extension>\r\n	\r\n	</context>    \r\n  </section>\r\n</document>\r\n', '297e63f05d1da6be015d1daee82c0003', 'ukewo', NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL);
